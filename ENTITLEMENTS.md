# ImageIntact Entitlements Documentation

This document is automatically generated by `Scripts/document-entitlements.swift`
Last updated: August 14, 2025

## Active Entitlements

The following entitlements are configured in ImageIntact.entitlements:

### `com.apple.security.app-sandbox`

**Purpose**: Enables App Sandbox for Mac App Store distribution

**Justification**: Required for Mac App Store apps

**User Impact**: Ensures app runs in a secure sandbox environment

---

### `com.apple.security.assets.pictures.read-write`

**Purpose**: Read/write access to Pictures folder and Photos library

**Justification**: ImageIntact needs to read photos and videos from the user's Photos library and Pictures folder for backup. This includes RAW files, JPEGs, HEICs, videos, and photo editing session files.

**User Impact**: Allows selecting photos and videos from Pictures folder for backup

**⚠️ App Store Review Note**: This entitlement requires explanation in the App Sandbox Information section.

---

### `com.apple.security.files.downloads.read-write`

**Purpose**: Read/write access to Downloads folder and external volumes

**Justification**: Users frequently select external drives and network-attached storage as backup destinations, which are often mounted in Downloads or other locations outside the sandbox. Required for writing backup files to user-selected destinations.

**User Impact**: Allows backing up to external drives and network volumes

**⚠️ App Store Review Note**: This entitlement requires explanation in the App Sandbox Information section.

---

### `com.apple.security.files.user-selected.read-write`

**Purpose**: Read/write access to user-selected files and folders

**Justification**: Allows users to select any folder as source or destination through NSOpenPanel. Core functionality for a backup app.

**User Impact**: Enables the folder selection dialogs

---

### `com.apple.security.network.client`

**Purpose**: Make outgoing network connections

**Justification**: Required for checking for updates from GitHub and accessing network-attached storage devices.

**User Impact**: Enables update checking and network drive access

---

## Summary

- **Total Entitlements**: 5
- **Sensitive Entitlements**: 2

## App Store Submission Notes

When submitting to the App Store, the following entitlements require explanation in the "App Sandbox Information" section:

1. `com.apple.security.files.downloads.read-write`
2. `com.apple.security.assets.pictures.read-write`

### Suggested App Sandbox Information Text:

```
ImageIntact requires the following sandbox entitlements to function as a photo backup application:

• com.apple.security.files.downloads.read-write
Required to write backup files to user-selected external drives and network volumes, which are commonly mounted outside the standard sandbox. Users explicitly select these destinations through NSOpenPanel.

• com.apple.security.assets.pictures.read-write
Required to read photo and video files from the user's Pictures folder and Photos library for backup. Users explicitly select source folders through NSOpenPanel.

All file access is initiated by explicit user selection through the standard macOS file picker. The app never accesses files without user permission.
```

## Updating This Documentation

Run the following command from the project root:
```bash
swift Scripts/document-entitlements.swift
```

Or make it executable and run directly:
```bash
chmod +x Scripts/document-entitlements.swift
./Scripts/document-entitlements.swift
```
